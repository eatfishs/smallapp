window.manifest = {"origin":{"pages":["pages/index/index"],"tabBar":{"custom":true,"color":"#000000","selectedColor":"#000000","backgroundColor":"#000000","list":[{"pagePath":"page/component/index","text":"组件","iconPath":"/Users/Zhuanz/Desktop/www/smallapp/runtime/demo/public/0.png","selectedIconPath":"/Users/Zhuanz/Desktop/www/smallapp/runtime/demo/public/1.png"}]},"window":{"navigationBarBackgroundColor":"#fff","navigationBarTextStyle":"black","navigationBarTitleText":"v3-demo-todomvc","backgroundColor":"#eeeeee","backgroundTextStyle":"light","enablePullDownRefresh":true},"sitemapLocation":"sitemap.json"},"pages":[{"id":2,"info":{},"scripts":["// ../demo/pages/index/a.js\nPage.id = \"2\";\nfunction a() {\n  console.log(123);\n}\n\n// ../demo/pages/index/index.js\nPage.id = \"2\";\nfunction b() {\n  a();\n}\nb();\nvar app = getApp();\nPage({\n  data: {\n    url: \"\",\n    type: 0,\n    // 1 å¸¸é©» 2 æ°ææ±  11 éå®å¡æ± \n    count: 0,\n    page: 1,\n    end_id: 0,\n    five: [],\n    role: \"\\u672A\\u51FA\",\n    map: {\n      0: \"\\u9650\\u5B9A\\u5361\\u6C60\",\n      1: \"\\u5E38\\u9A7B\\u5361\\u6C60\",\n      2: \"\\u65B0\\u624B\\u5361\\u6C60\"\n    },\n    title: \"\\u672A\\u77E5\"\n  },\n  onload() {\n    console.log(\"onLoad\");\n  },\n  changeUrl(e) {\n    this.setData({\n      url: e.detail.value\n    });\n  },\n  radioChange(e) {\n  },\n  async analyse() {\n    console.log(this.data.url);\n    return;\n    const search = new URL(this.data.url).search;\n    let type = this.data.type;\n    if (type === 0) {\n      type = 11;\n    }\n    const api = \"https://miniapp.deno.dev/xingtie_chouka\" + search + `&gacha_type=${type}&size=20&page=${this.data.page}&end_id=${this.data.end_id}`;\n    const data = await wx.request(api);\n    const list = data.data.list;\n    for (const v of list) {\n      if (v.rank_type === \"5\") {\n        const role = this.data.role;\n        this.setData({\n          role: v.name,\n          five: this.data.five.concat([[role, this.data.count + 1]]),\n          count: 0\n        });\n      } else {\n        this.setData({\n          count: this.data.count + 1\n        });\n      }\n    }\n    if (list.length < 5) {\n      if (this.data.type >= 2) {\n        console.log(\"\\u5206\\u6790\\u7ED3\\u675F\");\n      } else {\n        const role = this.data.role;\n        this.setData({\n          role: \"\\u672A\\u51FA\",\n          five: this.data.five.concat([[role, this.data.count + 1]]),\n          count: 0\n        });\n        this.medal();\n      }\n    } else {\n      this.setData({\n        page: this.data.page + 1,\n        end_id: list[list.length - 1].id\n      });\n      await new Promise((r) => setTimeout(() => {\n        r();\n      }, 1e3));\n      await this.analyse();\n    }\n  },\n  medal() {\n    const nums = this.data.five.map((i) => i[1]);\n    const realNums = nums.slice(1);\n    const average = realNums.reduce((a2, b2) => a2 + b2) / realNums.length;\n    let title = \"\";\n    if (average > 80) {\n      title = \"\\u7EC8\\u6781\\u65E0\\u654C\\u81F3\\u5C0A\\u975E\\u914B\\u738B\";\n    } else if (average > 70) {\n      title = \"\\u975E\\u914B\\u738B\";\n    } else if (average > 60) {\n      title = \"\\u5927\\u975E\\u914B\";\n    } else if (average > 50) {\n      title = \"\\u5C0F\\u975E\\u914B\";\n    } else if (average > 40) {\n      title = \"\\u5C0F\\u6B27\\u7687\";\n    } else if (average > 30) {\n      title = \"\\u5927\\u6B27\\u7687\";\n    } else if (average > 20) {\n      title = \"\\u6B27\\u7687\\u738B\";\n    } else {\n      title = \"\\u7EC8\\u6781\\u65E0\\u654C\\u81F3\\u5C0A\\u6B27\\u7687\\u738B\";\n    }\n    this.setData({\n      title\n    });\n  },\n  toast() {\n    wx.showToast({\n      title: \"qq\\u7FA4975551446\",\n      success: () => {\n        console.log(\"success\");\n      }\n    });\n  }\n});\n\n\n","var __defProp = Object.defineProperty;\nvar __getOwnPropDesc = Object.getOwnPropertyDescriptor;\nvar __getOwnPropNames = Object.getOwnPropertyNames;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __export = (target, all) => {\n  for (var name in all)\n    __defProp(target, name, { get: all[name], enumerable: true });\n};\nvar __copyProps = (to, from, except, desc) => {\n  if (from && typeof from === \"object\" || typeof from === \"function\") {\n    for (let key of __getOwnPropNames(from))\n      if (!__hasOwnProp.call(to, key) && key !== except)\n        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });\n  }\n  return to;\n};\nvar __toCommonJS = (mod) => __copyProps(__defProp({}, \"__esModule\", { value: true }), mod);\nvar stdin_exports = {};\n__export(stdin_exports, {\n  default: () => stdin_default\n});\nmodule.exports = __toCommonJS(stdin_exports);\nvar stdin_default = (props) => {\n  const [state, setState] = fre.useState(props.data);\n  useEffect(() => {\n    setStates[2] = setState;\n  }, []);\n  return /* @__PURE__ */ fre.h(\"div\", null, /* @__PURE__ */ fre.h(comp.View, null, /* @__PURE__ */ fre.h(comp.Image, { src: \"https://cdn-us.imgs.moe/2023/06/06/647f223643647.jpeg\" }), /* @__PURE__ */ fre.h(comp.Input, { type: \"text\", placeholder: \"\\u8BF7\\u8F93\\u5165\\u62BD\\u5361\\u5206\\u6790URL\", onInput: $handleEvent(\"changeUrl\", \"2\", \"bindinput\"), class: \"input\" }), /* @__PURE__ */ fre.h(comp.Button, { type: \"primary\", onClick: $handleEvent(\"analyse\", \"2\", \"bindtap\") }, \"\\u5F00\\u59CB\\u5206\\u6790\"), /* @__PURE__ */ fre.h(comp.View, { class: \"title\" }, expr(\"title\", state)), /* @__PURE__ */ fre.h(comp.Text, { class: \"b\", onClick: $handleEvent(\"toast\", \"2\", \"bindtap\") }, \"Made with \\u{1F494} & Fre miniapp\")));\n};\n"],"styles":["/9e688c58a5487b8eaf69c9e1005ad0bf.css"],"path":"/pages/index/index"}]}